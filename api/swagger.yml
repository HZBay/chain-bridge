# // Code generated by "make swagger"; DO NOT EDIT.
consumes:
- application/json
produces:
- application/json
swagger: "2.0"
info:
  description: API documentation
  title: github.com/hzbay/chain-bridge
  version: 0.1.0
paths:
  /-/batches/{batch_id}:
    get:
      security:
      - Management: []
      description: 获取特定批量处理操作的详细信息，包含CPOP效率指标
      tags:
      - cpop mgmt
      summary: Get batch processing status
      operationId: getBatchStatus
      parameters:
      - type: string
        description: Batch identifier
        name: batch_id
        in: path
        required: true
      responses:
        "200":
          description: Batch status retrieved successfully
          schema:
            type: object
            required:
            - batch_id
            - status
            properties:
              batch_id:
                description: Batch ID
                type: string
                example: batch_xyz789
              batch_metrics:
                type: object
                properties:
                  actual_efficiency:
                    description: Actual processing efficiency
                    type: number
                    format: float
                    example: 76.8
                  batch_strategy:
                    description: Batch processing strategy
                    type: string
                    example: medium_congestion_adaptive
                  operation_count:
                    description: Number of operations in batch
                    type: integer
                    example: 25
              cpop_info:
                type: object
                properties:
                  cpop_operation_type:
                    description: CPOP operation type
                    type: string
                    enum:
                    - batch_mint
                    - batch_burn
                    - batch_transfer
                  master_aggregator_used:
                    description: Whether master aggregator was used
                    type: boolean
                    example: true
              gas_analysis:
                type: object
                properties:
                  gas_saved_percentage:
                    description: Gas saved percentage
                    type: number
                    format: float
                    example: 76.8
                  gas_saved_usd:
                    description: Gas saved in USD
                    type: number
                    format: float
                    example: 156.8
              status:
                description: Batch status
                type: string
                enum:
                - preparing
                - submitted
                - confirmed
                - failed
          examples:
            application/json:
              batch_id: batch_xyz789
              batch_metrics:
                actual_efficiency: 76.8
                batch_strategy: medium_congestion_adaptive
                operation_count: 25
              cpop_info:
                cpop_operation_type: batch_mint
                master_aggregator_used: true
              gas_analysis:
                gas_saved_percentage: 76.8
                gas_saved_usd: 156.8
              status: confirmed
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "404":
          description: Batch not found
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              errors:
              - code: BATCH_NOT_FOUND
                field: batch_id
                message: No batch found with ID batch_xyz789
              message: Batch not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/chains:
    get:
      security:
      - Management: []
      description: Retrieves the list of all enabled blockchain networks and their
        configurations
      tags:
      - cpop mgmt
      summary: Get all enabled chains configuration
      operationId: getChains
      responses:
        "200":
          description: Successfully retrieved chains configuration
          schema:
            $ref: '#/definitions/ChainsResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
    post:
      security:
      - Management: []
      description: Adds a new blockchain network to the supported chains list
      tags:
      - cpop mgmt
      summary: Create new chain configuration
      operationId: createChain
      parameters:
      - description: Chain creation request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/createChainRequest'
      responses:
        "201":
          description: Chain created successfully
          schema:
            $ref: '#/definitions/chainCreateResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "409":
          description: Chain already exists
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/chains/refresh-cache:
    post:
      security:
      - Management: []
      description: Forces a refresh of the cached chain configuration data from the
        database
      tags:
      - cpop mgmt
      summary: Refresh chains configuration cache
      operationId: refreshChainsCache
      responses:
        "200":
          description: Cache refreshed successfully
          schema:
            $ref: '#/definitions/CacheRefreshResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/chains/{chain_id}:
    get:
      security:
      - Management: []
      description: Retrieves detailed configuration for a specific blockchain network
      tags:
      - cpop mgmt
      summary: Get chain configuration by ID
      operationId: getChainConfig
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      responses:
        "200":
          description: Successfully retrieved chain configuration
          schema:
            $ref: '#/definitions/ChainResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
    put:
      security:
      - Management: []
      description: Updates the configuration for a specific blockchain network
      tags:
      - cpop mgmt
      summary: Update chain configuration
      operationId: updateChain
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      - description: Chain update request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/updateChainRequest'
      responses:
        "200":
          description: Chain updated successfully
          schema:
            $ref: '#/definitions/chainUpdateResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
    delete:
      security:
      - Management: []
      description: Removes a blockchain network from the supported chains list
      tags:
      - cpop mgmt
      summary: Delete chain configuration
      operationId: deleteChain
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      responses:
        "200":
          description: Chain deleted successfully
          schema:
            $ref: '#/definitions/chainDeleteResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "409":
          description: Chain is in use and cannot be deleted
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/chains/{chain_id}/batch-config:
    put:
      security:
      - Management: []
      description: Updates the batch processing configuration parameters for a specific
        blockchain network
      tags:
      - cpop mgmt
      summary: Update batch configuration for a chain
      operationId: updateChainBatchConfig
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      - type: integer
        description: New batch size for the chain
        name: batch_size
        in: query
        required: true
      - type: integer
        description: New batch timeout in seconds
        name: batch_timeout
        in: query
        required: true
      responses:
        "200":
          description: Batch configuration updated successfully
          schema:
            $ref: '#/definitions/BatchConfigUpdateResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/chains/{chain_id}/toggle-status:
    put:
      security:
      - Management: []
      description: Enables or disables a specific blockchain network
      tags:
      - cpop mgmt
      summary: Toggle chain enabled status
      operationId: toggleChainStatus
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      - type: boolean
        description: Whether to enable or disable the chain
        name: enabled
        in: query
        required: true
      responses:
        "200":
          description: Chain status updated successfully
          schema:
            $ref: '#/definitions/chainToggleStatusResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/healthy:
    get:
      security:
      - Management: []
      description: |-
        This endpoint returns 200 when the service is healthy.
        Returns an human readable string about the current service status.
        In addition to readiness probes, it performs actual write probes.
        Note that /-/healthy is private (shielded by the mgmt-secret) as it may expose sensitive information about your service.
      produces:
      - text/plain
      tags:
      - common
      summary: Get healthy (liveness probe)
      operationId: GetHealthyRoute
      responses:
        "200":
          description: Ready.
        "521":
          description: Not ready.
  /-/monitoring/optimization/{chain_id}/{token_id}:
    get:
      security:
      - Management: []
      description: Retrieves optimization recommendations for batch processing on
        specific chain and token
      tags:
      - monitoring
      summary: Get batch optimization recommendations
      operationId: getOptimizationRecommendation
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      - type: integer
        description: The token ID
        name: token_id
        in: path
        required: true
      responses:
        "200":
          description: Optimization recommendation retrieved successfully
          schema:
            type: object
            required:
            - chain_id
            - token_id
            - current_batch_size
            - recommended_size
            - expected_improvement
            - confidence_level
            - reasoning
            - average_processing_time_ms
            - gas_saved_percentage
            - efficiency_rating
            - sample_size
            properties:
              average_processing_time_ms:
                description: Average processing time in milliseconds
                type: integer
                example: 2150
              chain_id:
                description: Chain ID for this recommendation
                type: integer
                format: int64
                example: 56
              confidence_level:
                description: Confidence level of the recommendation (0-100)
                type: number
                format: float
                example: 87.3
              current_batch_size:
                description: Current batch size being used
                type: integer
                example: 25
              efficiency_rating:
                description: Overall efficiency rating (0-100)
                type: number
                format: float
                example: 82.6
              expected_improvement:
                description: Expected improvement percentage
                type: number
                format: float
                example: 12.5
              gas_saved_percentage:
                description: Gas saved percentage compared to individual transactions
                type: number
                format: float
                example: 78.2
              reasoning:
                description: Human-readable explanation of the recommendation
                type: string
                example: Increasing batch size to 30 will improve efficiency by 12.5%
                  based on recent performance data
              recommended_size:
                description: Recommended optimal batch size
                type: integer
                example: 30
              sample_size:
                description: Number of samples used for this analysis
                type: integer
                example: 156
              token_id:
                description: Token ID for this recommendation
                type: integer
                example: 1
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/monitoring/queue/health:
    get:
      security:
      - Management: []
      description: Performs a health check on the queue system and returns status
        information
      tags:
      - monitoring
      summary: Check queue health
      operationId: checkQueueHealth
      responses:
        "200":
          description: Queue is healthy
          schema:
            $ref: '#/definitions/queueHealthResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
        "503":
          description: Queue is unhealthy
          schema:
            $ref: '#/definitions/queueHealthResponse'
  /-/monitoring/queue/metrics:
    get:
      security:
      - Management: []
      description: Retrieves current queue processing metrics including depth, throughput,
        and connection status
      tags:
      - monitoring
      summary: Get queue metrics
      operationId: getQueueMetrics
      responses:
        "200":
          description: Queue metrics retrieved successfully
          schema:
            $ref: '#/definitions/queueMetricsResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/monitoring/queue/stats:
    get:
      security:
      - Management: []
      description: Retrieves detailed statistics for all queues including per-chain
        and per-token metrics
      tags:
      - monitoring
      summary: Get detailed queue statistics
      operationId: getQueueStats
      responses:
        "200":
          description: Detailed queue statistics retrieved successfully
          schema:
            $ref: '#/definitions/queueStatsResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/ready:
    get:
      description: |-
        This endpoint returns 200 when the service is ready to serve traffic.
        Does read-only probes apart from the general server ready state.
        Note that /-/ready is typically public (and not shielded by a mgmt-secret), we thus prevent information leakage here and only return `"Ready."`.
      produces:
      - text/plain
      tags:
      - common
      summary: Get ready (readiness probe)
      operationId: GetReadyRoute
      responses:
        "200":
          description: Ready.
        "521":
          description: Not ready.
  /-/tokens:
    get:
      security:
      - Management: []
      description: Retrieves the list of all supported tokens across all chains
      tags:
      - cpop mgmt
      summary: Get all supported tokens
      operationId: getTokens
      parameters:
      - type: integer
        format: int64
        description: Filter tokens by chain ID
        name: chain_id
        in: query
      - type: boolean
        default: false
        description: Only return enabled tokens
        name: enabled_only
        in: query
      - type: boolean
        default: false
        description: Only return tokens that support batch operations
        name: batch_support_only
        in: query
      responses:
        "200":
          description: Successfully retrieved tokens
          schema:
            $ref: '#/definitions/tokensResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
    post:
      security:
      - Management: []
      description: Adds a new token to the supported tokens list
      tags:
      - cpop mgmt
      summary: Create new supported token
      operationId: createToken
      parameters:
      - description: Token creation request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/createTokenRequest'
      responses:
        "201":
          description: Token created successfully
          schema:
            $ref: '#/definitions/tokenCreateResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "409":
          description: Token already exists
          schema:
            $ref: '#/definitions/apiError'
        "422":
          description: Chain not found or validation failed
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/tokens/chain/{chain_id}:
    get:
      security:
      - Management: []
      description: Retrieves all supported tokens for a specific chain
      tags:
      - cpop mgmt
      summary: Get tokens by chain ID
      operationId: getTokensByChain
      parameters:
      - type: integer
        format: int64
        description: The blockchain network ID
        name: chain_id
        in: path
        required: true
      - type: boolean
        default: false
        description: Only return enabled tokens
        name: enabled_only
        in: query
      - type: boolean
        default: false
        description: Only return tokens that support batch operations
        name: batch_support_only
        in: query
      responses:
        "200":
          description: Successfully retrieved chain tokens
          schema:
            $ref: '#/definitions/tokensResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Chain not found
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/tokens/refresh-cache:
    post:
      security:
      - Management: []
      description: Forces a refresh of the cached token configuration data
      tags:
      - cpop mgmt
      summary: Refresh tokens cache
      operationId: refreshTokensCache
      responses:
        "200":
          description: Cache refreshed successfully
          schema:
            type: object
            required:
            - message
            properties:
              message:
                type: string
                example: Tokens cache refreshed successfully
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/tokens/{token_id}:
    get:
      security:
      - Management: []
      description: Retrieves detailed information for a specific token
      tags:
      - cpop mgmt
      summary: Get token by ID
      operationId: getToken
      parameters:
      - type: integer
        description: The token ID
        name: token_id
        in: path
        required: true
      responses:
        "200":
          description: Successfully retrieved token
          schema:
            $ref: '#/definitions/tokenResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
    put:
      security:
      - Management: []
      description: Updates the configuration for a specific token
      tags:
      - cpop mgmt
      summary: Update token configuration
      operationId: updateToken
      parameters:
      - type: integer
        description: The token ID
        name: token_id
        in: path
        required: true
      - description: Token update request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/updateTokenRequest'
      responses:
        "200":
          description: Token updated successfully
          schema:
            $ref: '#/definitions/tokenConfigUpdateResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
    delete:
      security:
      - Management: []
      description: Removes a token from the supported tokens list
      tags:
      - cpop mgmt
      summary: Delete token
      operationId: deleteToken
      parameters:
      - type: integer
        description: The token ID
        name: token_id
        in: path
        required: true
      responses:
        "200":
          description: Token deleted successfully
          schema:
            $ref: '#/definitions/tokenDeleteResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "409":
          description: Token is in use and cannot be deleted
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/tokens/{token_id}/toggle-status:
    put:
      security:
      - Management: []
      description: Enables or disables a specific token
      tags:
      - cpop mgmt
      summary: Toggle token enabled status
      operationId: toggleTokenStatus
      parameters:
      - type: integer
        description: The token ID
        name: token_id
        in: path
        required: true
      - type: boolean
        description: Whether to enable or disable the token
        name: enabled
        in: query
        required: true
      responses:
        "200":
          description: Token status updated successfully
          schema:
            $ref: '#/definitions/tokenConfigUpdateResponse'
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "404":
          description: Not found error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Not found
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /-/version:
    get:
      security:
      - Management: []
      description: This endpoint returns the module name, commit and build-date baked
        into the app binary.
      produces:
      - text/plain
      tags:
      - common
      summary: Get version
      operationId: GetVersionRoute
      responses:
        "200":
          description: ModuleName @ Commit (BuildDate)
  /api/v1/account/{user_id}:
    get:
      security:
      - Bearer: []
      description: 获取用户跨链钱包信息
      tags:
      - cpop
      summary: Get user account information
      operationId: getUserAccount
      parameters:
      - type: string
        description: User identifier
        name: user_id
        in: path
        required: true
      responses:
        "200":
          description: User account information retrieved successfully
          schema:
            type: object
            required:
            - user_id
            - accounts
            properties:
              accounts:
                type: array
                items:
                  type: object
                  required:
                  - id
                  - user_id
                  - chain_id
                  - aa_address
                  - owner
                  - is_deployed
                  properties:
                    aa_address:
                      description: Account Abstraction account address
                      type: string
                      example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
                    chain_id:
                      description: Chain ID
                      type: integer
                      format: int64
                      example: 56
                    chain_name:
                      description: Chain name
                      type: string
                      example: BSC
                    created_at:
                      description: Creation timestamp
                      type: string
                      format: date-time
                    deployment_tx_hash:
                      description: Deployment transaction hash
                      type: string
                      example: 0xabc123...
                    id:
                      description: Account ID
                      type: integer
                      example: 1
                    is_deployed:
                      description: Whether account is deployed on-chain
                      type: boolean
                      example: true
                    master_signer:
                      description: Master signer address
                      type: string
                      example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
                    owner:
                      description: Owner EOA address
                      type: string
                      example: 0x1234567890123456789012345678901234567890
                    user_id:
                      description: User identifier
                      type: string
                      example: user_123
              user_id:
                description: User identifier
                type: string
                example: user_123
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "404":
          description: User or account not found
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/account/{user_id}/create:
    post:
      security:
      - Bearer: []
      description: 为用户在指定链上创建新的账户抽象钱包
      tags:
      - cpop
      summary: Create user account
      operationId: createUserAccount
      parameters:
      - type: string
        description: User identifier
        name: user_id
        in: path
        required: true
      - description: Account creation request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/createAccountRequest'
      responses:
        "200":
          description: Account created successfully
          schema:
            type: object
            properties:
              aa_address:
                description: Generated AA account address
                type: string
                example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
              account_created:
                description: Whether account was created successfully
                type: boolean
                example: true
              binding_status:
                description: Binding status
                type: string
                example: success
              chain_id:
                description: Chain ID
                type: integer
                format: int64
                example: 56
              is_deployed:
                description: Deployment status
                type: boolean
                example: false
              owner:
                description: Owner EOA address
                type: string
                example: 0x1234567890123456789012345678901234567890
              user_id:
                description: User identifier
                type: string
                example: user_123
        "400":
          description: Invalid request parameters
          schema:
            $ref: '#/definitions/apiError'
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "409":
          description: Account already exists
          schema:
            $ref: '#/definitions/apiError'
        "422":
          description: Chain not supported or disabled
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/account/{user_id}/deploy:
    post:
      security:
      - Bearer: []
      description: 将用户已创建的账户抽象钱包部署到指定链上
      tags:
      - cpop
      summary: Deploy user account
      operationId: deployUserAccount
      parameters:
      - type: string
        description: User identifier
        name: user_id
        in: path
        required: true
      - description: Account deployment request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/deployAccountRequest'
      responses:
        "200":
          description: Account deployment initiated successfully
          schema:
            type: object
            required:
            - user_id
            - chain_id
            - aa_address
            - deployment_status
            properties:
              aa_address:
                description: AA account address to be deployed
                type: string
                example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
              chain_id:
                description: Chain ID
                type: integer
                format: int64
                example: 56
              deployment_status:
                description: Deployment status
                type: string
                enum:
                - submitted
                - confirmed
                - failed
                example: submitted
              deployment_tx_hash:
                description: Deployment transaction hash
                type: string
                example: 0xabc123def456789...
              estimated_confirmation_time:
                description: Estimated confirmation time
                type: string
                example: 2-5 minutes
              estimated_gas_cost:
                description: Estimated gas cost for deployment
                type: string
                example: 0.001 ETH
              user_id:
                description: User identifier
                type: string
                example: user_123
        "400":
          description: Invalid request parameters
          schema:
            $ref: '#/definitions/apiError'
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "404":
          description: User or account not found
          schema:
            $ref: '#/definitions/apiError'
        "409":
          description: Account already deployed
          schema:
            $ref: '#/definitions/apiError'
        "422":
          description: Chain not supported or account not ready for deployment
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/assets/adjust:
    post:
      security:
      - Bearer: []
      description: 批量调整用户资产余额（铸造/销毁操作），支持智能批处理
      tags:
      - cpop
      summary: Adjust user assets
      operationId: adjustAssets
      parameters:
      - description: Asset adjustment request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/assetAdjustRequest'
      responses:
        "200":
          description: Asset adjustment recorded successfully
          schema:
            type: object
            properties:
              batch_info:
                $ref: '#/definitions/batchInfo'
              data:
                $ref: '#/definitions/assetAdjustResponse'
        "400":
          description: Invalid request parameters
          schema:
            $ref: '#/definitions/apiError'
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "422":
          description: Insufficient balance or business rule violation
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/assets/transfer:
    post:
      security:
      - Bearer: []
      description: 用户间资产转账，支持智能批处理和CPOP优化
      tags:
      - cpop
      summary: User to user transfer
      operationId: transferAssets
      parameters:
      - description: Transfer request
        name: request
        in: body
        required: true
        schema:
          $ref: '#/definitions/transferRequest'
      responses:
        "200":
          description: Transfer recorded successfully
          schema:
            type: object
            required:
            - operation_id
            - from_user_id
            - to_user_id
            - chain_id
            - token_symbol
            - amount
            - status
            - transfer_records
            - will_be_batched
            - batch_type
            - current_batch_size
            - optimal_batch_size
            - expected_efficiency
            properties:
              amount:
                description: Transfer amount
                type: string
                example: "50.000000000000000000"
              batch_type:
                description: Batch operation type
                type: string
                example: batchTransferFrom
              chain_id:
                description: Chain ID
                type: integer
                format: int64
                example: 56
              current_batch_size:
                description: Current batch size
                type: integer
                example: 12
              expected_efficiency:
                description: Expected efficiency
                type: string
                example: 74-76%
              from_user_id:
                description: Sender user ID
                type: string
                example: user_123
              operation_id:
                description: Operation ID
                type: string
                example: op_transfer_001
              optimal_batch_size:
                description: Optimal batch size
                type: integer
                example: 25
              status:
                description: Transfer status
                type: string
                example: recorded
              to_user_id:
                description: Recipient user ID
                type: string
                example: user_456
              token_symbol:
                description: Token symbol
                type: string
                example: CPOP
              transfer_records:
                type: array
                items:
                  type: object
                  properties:
                    amount:
                      description: Amount with sign
                      type: string
                      example: "-50.000000000000000000"
                    transfer_direction:
                      description: Transfer direction
                      type: string
                      enum:
                      - outgoing
                      - incoming
                    tx_id:
                      description: Transaction ID
                      type: string
                      example: tx_outgoing_001
                    user_id:
                      description: User ID
                      type: string
                      example: user_123
              will_be_batched:
                description: Whether will be batched
                type: boolean
                example: true
          examples:
            application/json:
              amount: "50.000000000000000000"
              batch_type: batchTransferFrom
              chain_id: 56
              current_batch_size: 12
              expected_efficiency: 74-76%
              from_user_id: user_123
              operation_id: op_transfer_001
              optimal_batch_size: 25
              status: recorded
              to_user_id: user_456
              token_symbol: CPOP
              transfer_records:
              - amount: "-50.000000000000000000"
                transfer_direction: outgoing
                tx_id: tx_outgoing_001
                user_id: user_123
              - amount: "50.000000000000000000"
                transfer_direction: incoming
                tx_id: tx_incoming_001
                user_id: user_456
              will_be_batched: true
        "400":
          description: Invalid transfer parameters
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              errors:
              - code: INVALID_AMOUNT
                field: amount
                message: Transfer amount must be positive
              message: Invalid transfer amount
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "422":
          description: Insufficient balance or business rule violation
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              errors:
              - code: INSUFFICIENT_BALANCE
                field: from_user_balance
                message: User balance 30.0 CPOP is insufficient for transfer 50.0
                  CPOP
              message: Insufficient balance for transfer
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/assets/{user_id}:
    get:
      security:
      - Bearer: []
      description: 获取用户跨链资产概览，包含批量处理状态信息
      tags:
      - cpop
      summary: Get user assets overview
      operationId: getUserAssets
      parameters:
      - type: string
        description: User identifier
        name: user_id
        in: path
        required: true
      responses:
        "200":
          description: User assets retrieved successfully
          schema:
            type: object
            required:
            - user_id
            - total_value_usd
            - assets
            properties:
              assets:
                type: array
                items:
                  type: object
                  required:
                  - chain_id
                  - symbol
                  - confirmed_balance
                  - pending_balance
                  - locked_balance
                  properties:
                    balance_usd:
                      description: Balance in USD
                      type: number
                      format: float
                      example: 250
                    chain_id:
                      description: Chain ID
                      type: integer
                      format: int64
                      example: 56
                    chain_name:
                      description: Chain name
                      type: string
                      example: BSC
                    confirmed_balance:
                      description: Confirmed balance on-chain
                      type: string
                      example: "5000.0"
                    contract_address:
                      description: Token contract address
                      type: string
                      example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
                    decimals:
                      description: Token decimals
                      type: integer
                      example: 18
                    locked_balance:
                      description: Locked balance
                      type: string
                      example: "0.0"
                    name:
                      description: Token name
                      type: string
                      example: ChainBridge PoP Token
                    pending_balance:
                      description: Balance including pending changes
                      type: string
                      example: "5050.0"
                    symbol:
                      description: Token symbol
                      type: string
                      example: CPOP
                    sync_status:
                      description: Synchronization status
                      type: string
                      default: synced
                      enum:
                      - synced
                      - syncing
                      - pending
              total_value_usd:
                description: Total portfolio value in USD
                type: number
                format: float
                example: 1250.5
              user_id:
                description: User identifier
                type: string
                example: user_123
        "400":
          description: Bad request error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Bad request
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/assets/{user_id}/transactions:
    get:
      security:
      - Bearer: []
      description: 获取用户交易历史记录，支持筛选和分页
      tags:
      - cpop
      summary: Get user transaction history
      operationId: getUserTransactions
      parameters:
      - type: string
        description: User identifier
        name: user_id
        in: path
        required: true
      - type: integer
        format: int64
        description: Filter by chain ID
        name: chain_id
        in: query
      - type: string
        description: Filter by token symbol
        name: token_symbol
        in: query
      - enum:
        - mint
        - burn
        - transfer
        type: string
        description: Filter by transaction type
        name: tx_type
        in: query
      - minimum: 1
        type: integer
        default: 1
        description: Page number (1-based)
        name: page
        in: query
      - maximum: 100
        minimum: 1
        type: integer
        default: 20
        description: Number of records per page
        name: limit
        in: query
      - type: string
        format: date
        description: Filter from date (ISO 8601 format)
        name: start_date
        in: query
      - type: string
        format: date
        description: Filter to date (ISO 8601 format)
        name: end_date
        in: query
      responses:
        "200":
          description: User transactions retrieved successfully
          schema:
            type: object
            required:
            - user_id
            - total_count
            - page
            - limit
            - transactions
            - total_incoming
            - total_outgoing
            - net_change
            - gas_saved_total
            properties:
              gas_saved_total:
                description: Total gas saved
                type: string
                example: 45.80 USD
              limit:
                description: Page size
                type: integer
                example: 20
              net_change:
                description: Net change amount
                type: string
                example: "300.000000000000000000"
              page:
                description: Current page
                type: integer
                example: 1
              total_count:
                description: Total transaction count
                type: integer
                example: 156
              total_incoming:
                description: Total incoming amount
                type: string
                example: "2150.000000000000000000"
              total_outgoing:
                description: Total outgoing amount
                type: string
                example: "1850.000000000000000000"
              transactions:
                type: array
                items:
                  type: object
                  required:
                  - tx_id
                  - chain_id
                  - token_symbol
                  - tx_type
                  - business_type
                  - amount
                  - status
                  properties:
                    amount:
                      description: Transaction amount (positive/negative)
                      type: string
                      example: "-50.000000000000000000"
                    amount_usd:
                      description: Amount in USD
                      type: string
                      example: "-2.50"
                    batch_id:
                      description: Batch ID if batched
                      type: string
                      example: batch_transfer_001
                    block_number:
                      description: Block number
                      type: integer
                      format: int64
                    business_type:
                      description: Business type
                      type: string
                      enum:
                      - transfer
                      - reward
                      - gas_fee
                      - consumption
                      - refund
                    chain_id:
                      description: Chain ID
                      type: integer
                      format: int64
                      example: 56
                    chain_name:
                      description: Chain name
                      type: string
                      example: BSC
                    confirmed_at:
                      description: Confirmation timestamp
                      type: string
                      format: date-time
                    created_at:
                      description: Creation timestamp
                      type: string
                      format: date-time
                    gas_saved_percentage:
                      description: Gas saved percentage
                      type: number
                      format: float
                      example: 76.8
                    is_batch_operation:
                      description: Whether part of batch operation
                      type: boolean
                      default: false
                    operation_id:
                      description: Business operation ID
                      type: string
                      example: op_transfer_001
                    reason_detail:
                      description: Detailed reason
                      type: string
                      example: 朋友转账
                    reason_type:
                      description: Reason type
                      type: string
                      example: user_transfer
                    related_user_id:
                      description: Related user ID (for transfers)
                      type: string
                      example: user_456
                    status:
                      description: Transaction status
                      type: string
                      default: pending
                      enum:
                      - pending
                      - batching
                      - submitted
                      - confirmed
                      - failed
                    token_symbol:
                      description: Token symbol
                      type: string
                      example: CPOP
                    transfer_direction:
                      description: Transfer direction (only for transfers)
                      type: string
                      enum:
                      - outgoing
                      - incoming
                    tx_hash:
                      description: Blockchain transaction hash
                      type: string
                      example: 0xabc123...
                    tx_id:
                      description: Transaction ID
                      type: string
                      example: tx_001
                    tx_type:
                      description: Transaction type
                      type: string
                      enum:
                      - mint
                      - burn
                      - transfer
              user_id:
                description: User ID
                type: string
                example: user_123
          examples:
            application/json:
              gas_saved_total: 45.80 USD
              limit: 20
              net_change: "300.000000000000000000"
              page: 1
              total_count: 156
              total_incoming: "2150.000000000000000000"
              total_outgoing: "1850.000000000000000000"
              transactions:
              - amount: "-50.000000000000000000"
                amount_usd: "-2.50"
                batch_id: batch_transfer_001
                business_type: transfer
                chain_id: 56
                chain_name: BSC
                confirmed_at: "2024-12-15T10:35:00Z"
                created_at: "2024-12-15T10:30:00Z"
                gas_saved_percentage: 76.8
                is_batch_operation: true
                operation_id: op_transfer_001
                reason_detail: 朋友转账
                reason_type: user_transfer
                related_user_id: user_456
                status: confirmed
                token_symbol: CPOP
                transfer_direction: outgoing
                tx_hash: 0xabc123...
                tx_id: tx_001
                tx_type: transfer
              - amount: "100.000000000000000000"
                amount_usd: "5.00"
                batch_id: batch_mint_002
                business_type: reward
                chain_id: 56
                chain_name: BSC
                confirmed_at: "2024-12-14T09:05:00Z"
                created_at: "2024-12-14T09:00:00Z"
                gas_saved_percentage: 78.2
                is_batch_operation: true
                operation_id: op_reward_daily_001
                reason_detail: 每日签到奖励
                reason_type: daily_checkin
                status: confirmed
                token_symbol: CPOP
                tx_hash: 0xdef456...
                tx_id: tx_002
                tx_type: mint
              user_id: user_123
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              errors:
              - code: INVALID_DATE_RANGE
                field: date_range
                message: start_date must be before end_date
              message: Invalid date range
        "401":
          description: Unauthorized error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Unauthorized
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/apiError'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/apiError'
          examples:
            application/json:
              message: Internal server error
  /api/v1/auth/account:
    delete:
      security:
      - Bearer: []
      description: Completely delete the user account. This action is irreversible
        and therefore requires additional password authentication.
      tags:
      - auth
      summary: Delete user account
      operationId: DeleteUserAccountRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/deleteUserAccountPayload'
      responses:
        "204":
          description: NoContent
        "400":
          description: PublicHTTPValidationError, type `INVALID_PASSWORD`
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "401":
          description: PublicHTTPError
          schema:
            $ref: '#/definitions/publicHttpError'
        "403":
          description: PublicHTTPError, type `USER_DEACTIVATED`/`NOT_LOCAL_USER`
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/change-password:
    post:
      security:
      - Bearer: []
      description: |-
        After successful password change, all current access and refresh tokens are
        invalidated and a new set of auth tokens is returned
      tags:
      - auth
      summary: Change local user's password
      operationId: PostChangePasswordRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postChangePasswordPayload'
      responses:
        "200":
          description: PostLoginResponse
          schema:
            $ref: '#/definitions/postLoginResponse'
        "400":
          description: PublicHTTPValidationError, type `INVALID_PASSWORD`
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "401":
          description: PublicHTTPError
          schema:
            $ref: '#/definitions/publicHttpError'
        "403":
          description: PublicHTTPError, type `USER_DEACTIVATED`/`NOT_LOCAL_USER`
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/forgot-password:
    post:
      description: |-
        Initiates a password reset for a local user, sending an email with a password
        reset link to the provided email address if a user account exists. Will always
        succeed, even if no user was found in order to prevent user enumeration
      tags:
      - auth
      summary: Initiate password reset for local user
      operationId: PostForgotPasswordRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postForgotPasswordPayload'
      responses:
        "204":
          description: Success
        "400":
          description: PublicHTTPValidationError
          schema:
            $ref: '#/definitions/publicHttpValidationError'
  /api/v1/auth/forgot-password/complete:
    post:
      description: |-
        Completes a password reset for a local user, using the password reset token sent via email
        to confirm user access, setting the new password if successful. All current access and refresh
        tokens are invalidated and a new set of auth tokens is returned
      tags:
      - auth
      summary: Completes password reset for local user
      operationId: PostForgotPasswordCompleteRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postForgotPasswordCompletePayload'
      responses:
        "200":
          description: PostLoginResponse
          schema:
            $ref: '#/definitions/postLoginResponse'
        "400":
          description: PublicHTTPValidationError, type `INVALID_PASSWORD`
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "403":
          description: PublicHTTPError, type `USER_DEACTIVATED`/`NOT_LOCAL_USER`
          schema:
            $ref: '#/definitions/publicHttpError'
        "404":
          description: PublicHTTPError, type `TOKEN_NOT_FOUND`
          schema:
            $ref: '#/definitions/publicHttpError'
        "409":
          description: PublicHTTPError, type `TOKEN_EXPIRED`
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/login:
    post:
      description: Returns an access and refresh token on successful authentication
      tags:
      - auth
      summary: Login with local user
      operationId: PostLoginRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postLoginPayload'
      responses:
        "200":
          description: PostLoginResponse
          schema:
            $ref: '#/definitions/postLoginResponse'
        "400":
          description: PublicHTTPValidationError
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "401":
          description: PublicHTTPError
          schema:
            $ref: '#/definitions/publicHttpError'
        "403":
          description: PublicHTTPError, type `USER_DEACTIVATED`
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/logout:
    post:
      security:
      - Bearer: []
      description: |-
        Logs the local user out, destroying the provided access token.
        A refresh token can optionally be provided, destroying it as well if found.
      tags:
      - auth
      summary: Log out local user
      operationId: PostLogoutRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postLogoutPayload'
      responses:
        "204":
          description: Success
        "400":
          description: PublicHTTPValidationError
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "401":
          description: PublicHTTPError
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/refresh:
    post:
      description: |-
        Returns a fresh set of access and refresh tokens if a valid refresh token was provided.
        The old refresh token used to authenticate the request will be invalidated.
      tags:
      - auth
      summary: Refresh tokens
      operationId: PostRefreshRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postRefreshPayload'
      responses:
        "200":
          description: PostLoginResponse
          schema:
            $ref: '#/definitions/postLoginResponse'
        "400":
          description: PublicHTTPValidationError
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "401":
          description: PublicHTTPError
          schema:
            $ref: '#/definitions/publicHttpError'
        "403":
          description: PublicHTTPError, type `USER_DEACTIVATED`
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/register:
    post:
      description: Returns an access and refresh token on successful registration
      tags:
      - auth
      summary: Registers a local user
      operationId: PostRegisterRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/postRegisterPayload'
      responses:
        "200":
          description: PostLoginResponse
          schema:
            $ref: '#/definitions/postLoginResponse'
        "400":
          description: PublicHTTPValidationError, type `INVALID_PASSWORD`
          schema:
            $ref: '#/definitions/publicHttpValidationError'
        "409":
          description: PublicHTTPError, type `USER_ALREADY_EXISTS`
          schema:
            $ref: '#/definitions/publicHttpError'
  /api/v1/auth/userinfo:
    get:
      security:
      - Bearer: []
      description: |-
        Returns user information compatible with the OpenID Connect Core 1.0 specification.
        Information returned depends on the requesting user as some data is only available if an app user profile exists.
      tags:
      - auth
      summary: Get user info
      operationId: GetUserInfoRoute
      responses:
        "200":
          description: GetUserInfoResponse
          schema:
            $ref: '#/definitions/getUserInfoResponse'
  /api/v1/push/token:
    put:
      security:
      - Bearer: []
      description: |-
        Adds a push token for the given provider to the current user.
        If the oldToken is present it will be deleted.
        Currently only the provider 'fcm' is supported.
      tags:
      - push
      summary: Adds a push token to the user
      operationId: PutUpdatePushTokenRoute
      parameters:
      - name: Payload
        in: body
        schema:
          $ref: '#/definitions/putUpdatePushTokenPayload'
      responses:
        "200":
          description: OK
        "404":
          description: PublicHTTPError, type `OLD_PUSH_TOKEN_NOT_FOUND`
          schema:
            $ref: '#/definitions/publicHttpError'
        "409":
          description: PublicHTTPError, type `PUSH_TOKEN_ALREADY_EXISTS`
          schema:
            $ref: '#/definitions/publicHttpError'
  /swagger.yml:
    get:
      description: |-
        OpenAPI Specification ver. 2 (fka Swagger)
        Returns our handcrafted and validated `swagger.yml`.
      produces:
      - text/plain
      tags:
      - common
      summary: Get swagger.yml
      operationId: GetSwaggerRoute
      responses:
        "200":
          description: OK
definitions:
  BatchConfig:
    type: object
    required:
    - min_batch_size
    - max_batch_size
    - optimal_batch_size
    properties:
      max_batch_size:
        description: Maximum number of operations to include in a batch
        type: integer
        maximum: 100
        minimum: 1
        example: 50
      min_batch_size:
        description: Minimum number of operations to include in a batch
        type: integer
        maximum: 100
        minimum: 1
        example: 5
      optimal_batch_size:
        description: Optimal number of operations for best performance
        type: integer
        maximum: 100
        minimum: 1
        example: 20
  BatchConfigUpdateResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Batch configuration updated successfully
  CacheRefreshResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Chain cache refreshed successfully
  Chain:
    type: object
    required:
    - chain_id
    - name
    - rpc_url
    - is_enabled
    - batch_config
    properties:
      batch_config:
        $ref: '#/definitions/BatchConfig'
      chain_id:
        description: Unique identifier for the blockchain network
        type: integer
        format: int64
        example: 1
      created_at:
        description: Timestamp when the chain configuration was created
        type: string
        format: date-time
      explorer_url:
        description: Block explorer URL for viewing transactions
        type: string
        format: uri
        example: https://etherscan.io
      is_enabled:
        description: Whether the blockchain network is currently enabled for operations
        type: boolean
        example: true
      is_testnet:
        description: Whether this is a testnet or mainnet
        type: boolean
        example: false
      name:
        description: Human-readable name of the blockchain network
        type: string
        example: Ethereum Mainnet
      rpc_url:
        description: RPC endpoint URL for connecting to the blockchain network
        type: string
        format: uri
        example: https://mainnet.infura.io/v3/your-project-id
      symbol:
        description: Symbol or short code for the blockchain network
        type: string
        example: ETH
      updated_at:
        description: Timestamp when the chain configuration was last updated
        type: string
        format: date-time
  ChainResponse:
    type: object
    properties:
      account_manager_address:
        description: Account manager contract address
        type: string
        example: 0xabcdefabcdefabcdefabcdefabcdefabcdefabcd
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 11155111
      cpop_token_address:
        description: CPOP token contract address
        type: string
        example: 0x1234567890123456789012345678901234567890
      created_at:
        description: Chain creation timestamp
        type: string
        format: date-time
        example: "2024-12-21T00:00:00Z"
      entry_point_address:
        description: EntryPoint contract address
        type: string
        example: 0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789
      explorer_url:
        description: Block explorer URL
        type: string
        example: https://sepolia.etherscan.io
      is_enabled:
        description: Whether chain is enabled
        type: boolean
        example: true
      master_aggregator_address:
        description: Master aggregator contract address
        type: string
        example: 0x0987654321098765432109876543210987654321
      max_batch_size:
        description: Maximum batch size
        type: integer
        example: 40
      min_batch_size:
        description: Minimum batch size
        type: integer
        example: 10
      name:
        description: Chain name
        type: string
        example: Sepolia Testnet
      optimal_batch_size:
        description: Optimal batch size for processing
        type: integer
        example: 25
      rpc_url:
        description: RPC endpoint URL
        type: string
        example: https://eth-sepolia.g.alchemy.com/v2/xxx
      short_name:
        description: Chain short name
        type: string
        example: sepolia
  ChainsResponse:
    type: array
    items:
      $ref: '#/definitions/ChainResponse'
  UpdateChainBatchConfigBody:
    type: object
    required:
    - batch_size
    - batch_timeout
    properties:
      batch_size:
        description: New batch size for the chain
        type: integer
        example: 25
      batch_timeout:
        description: New batch timeout in seconds
        type: integer
        example: 300
  accountInfo:
    type: object
    required:
    - id
    - user_id
    - chain_id
    - aa_address
    - owner
    - is_deployed
    properties:
      aa_address:
        description: Account Abstraction account address
        type: string
        example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      chain_name:
        description: Chain name
        type: string
        example: BSC
      created_at:
        description: Creation timestamp
        type: string
        format: date-time
      deployment_tx_hash:
        description: Deployment transaction hash
        type: string
        example: 0xabc123...
      id:
        description: Account ID
        type: integer
        example: 1
      is_deployed:
        description: Whether account is deployed on-chain
        type: boolean
        example: true
      master_signer:
        description: Master signer address
        type: string
        example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
      owner:
        description: Owner EOA address
        type: string
        example: 0x1234567890123456789012345678901234567890
      user_id:
        description: User identifier
        type: string
        example: user_123
  accountResponse:
    type: object
    required:
    - user_id
    - accounts
    properties:
      accounts:
        type: array
        items:
          $ref: '#/definitions/accountInfo'
      user_id:
        description: User identifier
        type: string
        example: user_123
  apiError:
    type: object
    required:
    - message
    properties:
      errors:
        type: array
        items:
          type: object
          properties:
            code:
              description: Error code
              type: string
            field:
              description: Field name
              type: string
            message:
              description: Error message
              type: string
      message:
        description: Error message
        type: string
        example: Bad request
  assetAdjustCompleteResponse:
    type: object
    required:
    - data
    - batch_info
    properties:
      batch_info:
        $ref: '#/definitions/batchInfo'
      data:
        $ref: '#/definitions/assetAdjustResponse'
  assetAdjustRequest:
    type: object
    required:
    - operation_id
    - adjustments
    properties:
      adjustments:
        type: array
        items:
          $ref: '#/definitions/assetAdjustment'
      batch_preference:
        $ref: '#/definitions/batchPreference'
      operation_id:
        description: Operation ID
        type: string
        example: op_daily_rewards_001
  assetAdjustResponse:
    type: object
    required:
    - operation_id
    - processed_count
    - status
    properties:
      operation_id:
        description: Operation ID
        type: string
        example: op_daily_rewards_001
      processed_count:
        description: Number of processed adjustments
        type: integer
        example: 1
      status:
        description: Processing status
        type: string
        example: recorded
  assetAdjustment:
    type: object
    required:
    - user_id
    - chain_id
    - token_symbol
    - amount
    - business_type
    - reason_type
    properties:
      amount:
        description: Adjustment amount (+/-)
        type: string
        example: "+100.0"
      business_type:
        description: Business type
        type: string
        enum:
        - reward
        - gas_fee
        - consumption
        - refund
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      reason_detail:
        description: Detailed reason
        type: string
        example: Daily check-in reward
      reason_type:
        description: Reason type
        type: string
        example: daily_checkin
      token_symbol:
        description: Token symbol
        type: string
        example: CPOP
      user_id:
        description: User ID
        type: string
        example: user_123
  assetInfo:
    type: object
    required:
    - chain_id
    - symbol
    - confirmed_balance
    - pending_balance
    - locked_balance
    properties:
      balance_usd:
        description: Balance in USD
        type: number
        format: float
        example: 250
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      chain_name:
        description: Chain name
        type: string
        example: BSC
      confirmed_balance:
        description: Confirmed balance on-chain
        type: string
        example: "5000.0"
      contract_address:
        description: Token contract address
        type: string
        example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
      decimals:
        description: Token decimals
        type: integer
        example: 18
      locked_balance:
        description: Locked balance
        type: string
        example: "0.0"
      name:
        description: Token name
        type: string
        example: ChainBridge PoP Token
      pending_balance:
        description: Balance including pending changes
        type: string
        example: "5050.0"
      symbol:
        description: Token symbol
        type: string
        example: CPOP
      sync_status:
        description: Synchronization status
        type: string
        default: synced
        enum:
        - synced
        - syncing
        - pending
  assetsResponse:
    type: object
    required:
    - user_id
    - total_value_usd
    - assets
    properties:
      assets:
        type: array
        items:
          $ref: '#/definitions/assetInfo'
      total_value_usd:
        description: Total portfolio value in USD
        type: number
        format: float
        example: 1250.5
      user_id:
        description: User identifier
        type: string
        example: user_123
  batchInfo:
    type: object
    properties:
      batch_id:
        description: Batch ID
        type: string
        example: batch_daily_rewards_20241215
      batch_type:
        description: Batch operation type
        type: string
        example: batchTransferFrom
      current_batch_size:
        description: Current batch size
        type: integer
        example: 24
      estimated_gas_savings:
        description: Estimated gas savings
        type: string
        example: 156.80 USD
      expected_efficiency:
        description: Expected efficiency
        type: string
        example: 75-77%
      next_batch_estimate:
        description: Next batch processing estimate
        type: string
        example: 5-10 minutes
      optimal_batch_size:
        description: Optimal batch size
        type: integer
        example: 25
      pending_operations:
        description: Number of pending operations
        type: integer
        example: 3
      will_be_batched:
        description: Whether will be processed in batch
        type: boolean
        example: true
  batchMetrics:
    type: object
    properties:
      actual_efficiency:
        description: Actual processing efficiency
        type: number
        format: float
        example: 76.8
      batch_strategy:
        description: Batch processing strategy
        type: string
        example: medium_congestion_adaptive
      operation_count:
        description: Number of operations in batch
        type: integer
        example: 25
  batchPreference:
    type: object
    properties:
      max_wait_time:
        description: Maximum wait time
        type: string
        example: 15m
      priority:
        description: Processing priority
        type: string
        default: normal
        enum:
        - low
        - normal
        - high
  batchStatusResponse:
    type: object
    required:
    - batch_id
    - status
    properties:
      batch_id:
        description: Batch ID
        type: string
        example: batch_xyz789
      batch_metrics:
        $ref: '#/definitions/batchMetrics'
      cpop_info:
        $ref: '#/definitions/cPOPInfo'
      gas_analysis:
        $ref: '#/definitions/gasAnalysis'
      status:
        description: Batch status
        type: string
        enum:
        - preparing
        - submitted
        - confirmed
        - failed
  cPOPInfo:
    type: object
    properties:
      cpop_operation_type:
        description: CPOP operation type
        type: string
        enum:
        - batch_mint
        - batch_burn
        - batch_transfer
      master_aggregator_used:
        description: Whether master aggregator was used
        type: boolean
        example: true
  chainCreateResponse:
    type: object
    required:
    - message
    - chain_id
    properties:
      chain_id:
        type: integer
        format: int64
        example: 11155111
      message:
        type: string
        example: Chain created successfully
  chainDeleteResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Chain deleted successfully
  chainToggleStatusResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Chain status updated successfully
  chainUpdateResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Chain configuration updated successfully
  createAccountRequest:
    type: object
    required:
    - owner_address
    - chain_id
    properties:
      chain_id:
        description: Target chain ID
        type: integer
        format: int64
        example: 56
      owner_address:
        description: Owner EOA address
        type: string
        example: 0x1234567890123456789012345678901234567890
  createAccountResponse:
    type: object
    properties:
      aa_address:
        description: Generated AA account address
        type: string
        example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
      account_created:
        description: Whether account was created successfully
        type: boolean
        example: true
      binding_status:
        description: Binding status
        type: string
        example: success
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      is_deployed:
        description: Deployment status
        type: boolean
        example: false
      owner:
        description: Owner EOA address
        type: string
        example: 0x1234567890123456789012345678901234567890
      user_id:
        description: User identifier
        type: string
        example: user_123
  createChainRequest:
    type: object
    required:
    - chain_id
    - name
    - short_name
    - rpc_url
    properties:
      account_manager_address:
        description: Account manager contract address
        type: string
        example: 0xabcdefabcdefabcdefabcdefabcdefabcdefabcd
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 11155111
      cpop_token_address:
        description: CPOP token contract address
        type: string
        example: 0x1234567890123456789012345678901234567890
      entry_point_address:
        description: EntryPoint contract address
        type: string
        example: 0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789
      explorer_url:
        description: Block explorer URL
        type: string
        example: https://sepolia.etherscan.io
      is_enabled:
        description: Whether chain is enabled
        type: boolean
        example: true
      master_aggregator_address:
        description: Master aggregator contract address
        type: string
        example: 0x0987654321098765432109876543210987654321
      max_batch_size:
        description: Maximum batch size
        type: integer
        example: 40
      min_batch_size:
        description: Minimum batch size
        type: integer
        example: 10
      name:
        description: Chain name
        type: string
        example: Sepolia Testnet
      optimal_batch_size:
        description: Optimal batch size for processing
        type: integer
        example: 25
      rpc_url:
        description: RPC endpoint URL
        type: string
        example: https://eth-sepolia.g.alchemy.com/v2/xxx
      short_name:
        description: Chain short name
        type: string
        example: sepolia
  createTokenRequest:
    type: object
    required:
    - chain_id
    - symbol
    - name
    - decimals
    - token_type
    properties:
      batch_operations:
        description: Supported batch operations configuration
        type: object
        additionalProperties: true
        example:
          batchBurn: false
          batchMint: false
          batchTransfer: false
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      contract_address:
        description: Token contract address (null for native tokens)
        type: string
        example: 0x1234567890123456789012345678901234567890
      decimals:
        description: Token decimals
        type: integer
        example: 6
      name:
        description: Token name
        type: string
        example: Tether USD
      supports_batch_operations:
        description: Whether token supports batch operations
        type: boolean
        example: false
      symbol:
        description: Token symbol
        type: string
        example: USDT
      token_type:
        description: Token type
        type: string
        enum:
        - native
        - erc20
        example: erc20
  deleteUserAccountPayload:
    type: object
    required:
    - currentPassword
    properties:
      currentPassword:
        description: Current password of user
        type: string
        maxLength: 500
        minLength: 1
        example: correct horse battery staple
  deployAccountRequest:
    type: object
    required:
    - chain_id
    properties:
      chain_id:
        description: Target chain ID for deployment
        type: integer
        format: int64
        example: 56
  deployAccountResponse:
    type: object
    required:
    - user_id
    - chain_id
    - aa_address
    - deployment_status
    properties:
      aa_address:
        description: AA account address to be deployed
        type: string
        example: 0x742d35Cc6634C0532925a3b8D238b45D2F78d8F3
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      deployment_status:
        description: Deployment status
        type: string
        enum:
        - submitted
        - confirmed
        - failed
        example: submitted
      deployment_tx_hash:
        description: Deployment transaction hash
        type: string
        example: 0xabc123def456789...
      estimated_confirmation_time:
        description: Estimated confirmation time
        type: string
        example: 2-5 minutes
      estimated_gas_cost:
        description: Estimated gas cost for deployment
        type: string
        example: 0.001 ETH
      user_id:
        description: User identifier
        type: string
        example: user_123
  gasAnalysis:
    type: object
    properties:
      gas_saved_percentage:
        description: Gas saved percentage
        type: number
        format: float
        example: 76.8
      gas_saved_usd:
        description: Gas saved in USD
        type: number
        format: float
        example: 156.8
  getUserInfoResponse:
    type: object
    required:
    - sub
    - updated_at
    properties:
      email:
        description: Email address of user, if available
        type: string
        format: email
        maxLength: 255
        example: user@example.com
      scopes:
        description: Auth-Scopes of the user, if available
        type: array
        items:
          type: string
          enum:
          - app
          - cms
        example:
        - app
      sub:
        description: ID of user
        type: string
        example: 82ebdfad-c586-4407-a873-4cc1c33d56fc
      updated_at:
        description: Unix timestamp the user's info was last updated at
        type: integer
        example: 1591960808
  httpValidationErrorDetail:
    type: object
    required:
    - key
    - in
    - error
    properties:
      error:
        description: Error describing field validation failure
        type: string
      in:
        description: Indicates how the invalid field was provided
        type: string
      key:
        description: Key of field failing validation
        type: string
  nullableBool:
    type: boolean
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Bool
    example: true
  nullableBoolSlice:
    type: array
    items:
      type: boolean
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: BoolSlice
  nullableFloat:
    type: number
    format: float
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Float32
    example: 1.5
  nullableFloat32:
    type: number
    format: float
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Float32
    example: 1.5
  nullableFloat32Slice:
    type: array
    items:
      type: number
      format: float
      example: 1.5
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Float32Slice
  nullableFloat64:
    type: number
    format: float
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Float64
    example: 1.5
  nullableFloat64Slice:
    type: array
    items:
      type: number
      format: float
      example: 1.5
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Float64Slice
  nullableFloatSlice:
    type: array
    items:
      type: number
      format: float
      example: 1.5
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Float32Slice
  nullableInt:
    type: integer
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int
    example: 1234
  nullableInt16:
    type: integer
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int16
    example: 1234
  nullableInt16Slice:
    type: array
    items:
      type: integer
      example: 1234
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int16Slice
  nullableInt32:
    type: integer
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int32
    example: 1234
  nullableInt32Slice:
    type: array
    items:
      type: integer
      example: 1234
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int32Slice
  nullableInt64:
    type: integer
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int64
    example: 1234
  nullableInt64Slice:
    type: array
    items:
      type: integer
      example: 1234
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: Int64Slice
  nullableIntSlice:
    type: array
    items:
      type: integer
      example: 1234
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: IntSlice
  nullableString:
    type: string
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: String
    example: example
  nullableStringSlice:
    type: array
    items:
      type: string
    x-go-type:
      import:
        package: github.com/allaboutapps/nullable
      type: StringSlice
  nullables:
    type: object
    properties:
      nullableBool:
        $ref: '#/definitions/nullableBool'
      nullableBoolSlice:
        $ref: '#/definitions/nullableBoolSlice'
      nullableFloat:
        $ref: '#/definitions/nullableFloat'
      nullableFloat32:
        $ref: '#/definitions/nullableFloat32'
      nullableFloat32Slice:
        $ref: '#/definitions/nullableFloat32Slice'
      nullableFloat64:
        $ref: '#/definitions/nullableFloat64'
      nullableFloat64Slice:
        $ref: '#/definitions/nullableFloat64Slice'
      nullableFloatSlice:
        $ref: '#/definitions/nullableFloatSlice'
      nullableInt:
        $ref: '#/definitions/nullableInt'
      nullableInt16:
        $ref: '#/definitions/nullableInt16'
      nullableInt16Slice:
        $ref: '#/definitions/nullableInt16Slice'
      nullableInt32:
        $ref: '#/definitions/nullableInt32'
      nullableInt32Slice:
        $ref: '#/definitions/nullableInt32Slice'
      nullableInt64:
        $ref: '#/definitions/nullableInt64'
      nullableInt64Slice:
        $ref: '#/definitions/nullableInt64Slice'
      nullableIntSlice:
        $ref: '#/definitions/nullableIntSlice'
      nullableString:
        $ref: '#/definitions/nullableString'
      nullableStringSlice:
        $ref: '#/definitions/nullableStringSlice'
  optimizationRecommendation:
    type: object
    required:
    - chain_id
    - token_id
    - current_batch_size
    - recommended_size
    - expected_improvement
    - confidence_level
    properties:
      chain_id:
        description: Chain ID for this recommendation
        type: integer
        format: int64
        example: 56
      confidence_level:
        description: Confidence level of the recommendation (0-100)
        type: number
        format: float
        example: 87.3
      current_batch_size:
        description: Current batch size being used
        type: integer
        example: 25
      expected_improvement:
        description: Expected improvement percentage
        type: number
        format: float
        example: 12.5
      performance_data:
        $ref: '#/definitions/performanceMetrics'
      reasoning:
        description: Human-readable explanation of the recommendation
        type: string
        example: Increasing batch size to 30 will improve efficiency by 12.5% based
          on recent performance data
      recommended_size:
        description: Recommended optimal batch size
        type: integer
        example: 30
      token_id:
        description: Token ID for this recommendation
        type: integer
        example: 1
  optimizationRecommendationResponse:
    type: object
    required:
    - data
    properties:
      data:
        $ref: '#/definitions/optimizationRecommendation'
  orderDir:
    type: string
    enum:
    - asc
    - desc
  performanceMetrics:
    type: object
    properties:
      average_processing_time_ms:
        description: Average processing time in milliseconds
        type: integer
        example: 2150
      efficiency_rating:
        description: Overall efficiency rating (0-100)
        type: number
        format: float
        example: 82.6
      gas_saved_percentage:
        description: Gas saved percentage compared to individual transactions
        type: number
        format: float
        example: 78.2
      sample_size:
        description: Number of samples used for this analysis
        type: integer
        example: 156
  postChangePasswordPayload:
    type: object
    required:
    - currentPassword
    - newPassword
    properties:
      currentPassword:
        description: Current password of user
        type: string
        maxLength: 500
        minLength: 1
        example: correct horse battery staple
      newPassword:
        description: New password to set for user
        type: string
        maxLength: 500
        minLength: 1
        example: correct horse battery staple
  postForgotPasswordCompletePayload:
    type: object
    required:
    - token
    - password
    properties:
      password:
        description: New password to set for user
        type: string
        maxLength: 500
        minLength: 1
        example: correct horse battery staple
      token:
        description: Password reset token sent via email
        type: string
        format: uuid4
        example: ec16f032-3c44-4148-bbcc-45557466fa74
  postForgotPasswordPayload:
    type: object
    required:
    - username
    properties:
      username:
        description: Username to initiate password reset for
        type: string
        format: email
        maxLength: 255
        minLength: 1
        example: user@example.com
  postLoginPayload:
    type: object
    required:
    - username
    - password
    properties:
      password:
        description: Password of user to authenticate as
        type: string
        maxLength: 500
        minLength: 1
        example: correct horse battery staple
      username:
        description: Username of user to authenticate as
        type: string
        format: email
        maxLength: 255
        minLength: 1
        example: user@example.com
  postLoginResponse:
    type: object
    required:
    - access_token
    - token_type
    - expires_in
    - refresh_token
    properties:
      access_token:
        description: Access token required for accessing protected API endpoints
        type: string
        format: uuid4
        example: c1247d8d-0d65-41c4-bc86-ec041d2ac437
      expires_in:
        description: Access token expiry in seconds
        type: integer
        format: int64
        example: 86400
      refresh_token:
        description: Refresh token for refreshing the access token once it expires
        type: string
        format: uuid4
        example: 1dadb3bd-50d8-485d-83a3-6111392568f0
      token_type:
        description: Type of access token, will always be `bearer`
        type: string
        example: bearer
  postLogoutPayload:
    type: object
    properties:
      refresh_token:
        description: Optional refresh token to delete while logging out
        type: string
        format: uuid4
        example: 700ebed3-40f7-4211-bc83-a89b22b9875e
  postRefreshPayload:
    type: object
    required:
    - refresh_token
    properties:
      refresh_token:
        description: Refresh token to use for retrieving new token set
        type: string
        format: uuid4
        example: 7503cd8a-c921-4368-a32d-6c1d01d86da9
  postRegisterPayload:
    type: object
    required:
    - username
    - password
    properties:
      password:
        description: Password to register with
        type: string
        maxLength: 500
        minLength: 1
        example: correct horse battery staple
      username:
        description: Username to register with
        type: string
        format: email
        maxLength: 255
        minLength: 1
        example: user@example.com
  publicHttpError:
    type: object
    required:
    - status
    - type
    - title
    properties:
      detail:
        description: More detailed, human-readable, optional explanation of the error
        type: string
        example: User is lacking permission to access this resource
      status:
        description: HTTP status code returned for the error
        type: integer
        format: int64
        maximum: 599
        minimum: 100
        x-go-name: Code
        example: 403
      title:
        description: Short, human-readable description of the error
        type: string
        example: Forbidden
      type:
        description: Type of error returned, should be used for client-side error
          handling
        type: string
        example: generic
  publicHttpValidationError:
    type: object
    required:
    - validationErrors
    allOf:
    - $ref: '#/definitions/publicHttpError'
    properties:
      validationErrors:
        description: List of errors received while validating payload against schema
        type: array
        items:
          $ref: '#/definitions/httpValidationErrorDetail'
  putUpdatePushTokenPayload:
    type: object
    required:
    - newToken
    - provider
    properties:
      newToken:
        description: New push token for given provider.
        type: string
        maxLength: 500
        example: 1c91e550-8167-439c-8021-dee7de2f7e96
      oldToken:
        description: Old token that can be deleted if present.
        type: string
        maxLength: 500
        x-nullable: true
        example: 495179de-b771-48f0-aab2-8d23701b0f02
      provider:
        description: Identifier of the provider the token is for (eg. "fcm", "apn").
          Currently only "fcm" is supported.
        type: string
        maxLength: 500
        example: fcm
  queueHealthResponse:
    type: object
    required:
    - healthy
    - duration_ms
    - timestamp
    properties:
      duration_ms:
        description: Health check duration in milliseconds
        type: integer
        example: 45
      error:
        description: Error message if health check failed
        type: string
        example: Connection timeout to RabbitMQ server
      healthy:
        description: Whether the queue system is healthy
        type: boolean
        example: true
      timestamp:
        description: Unix timestamp of the health check
        type: integer
        format: int64
        example: 1703515200
  queueMetrics:
    type: object
    required:
    - queue_depth
    - total_jobs_processed
    - connection_status
    - processor_type
    properties:
      average_processing_time_ms:
        description: Average job processing time in milliseconds
        type: integer
        example: 1250
      connection_status:
        description: Current connection status to the queue system
        type: string
        enum:
        - connected
        - disconnected
        - reconnecting
        example: connected
      error_rate_percentage:
        description: Current error rate as percentage
        type: number
        format: float
        example: 0.12
      processor_type:
        description: Type of processor being used
        type: string
        enum:
        - rabbitmq
        - memory
        - hybrid
        example: hybrid
      queue_depth:
        description: Current number of jobs in the queue
        type: integer
        format: int64
        example: 142
      throughput_per_minute:
        description: Current processing throughput (jobs per minute)
        type: number
        format: float
        example: 235.8
      total_jobs_processed:
        description: Total number of jobs processed since startup
        type: integer
        format: int64
        example: 15847
  queueMetricsResponse:
    $ref: '#/definitions/queueMetrics'
  queueStats:
    type: object
    required:
    - queue_name
    - chain_id
    - token_id
    - pending_jobs
    - processed_jobs
    - failed_jobs
    properties:
      average_batch_size:
        description: Average batch size for this queue
        type: number
        format: float
        example: 24.5
      chain_id:
        description: Chain ID for this queue
        type: integer
        format: int64
        example: 56
      failed_jobs:
        description: Number of failed jobs in this queue
        type: integer
        example: 3
      last_processing_time:
        description: Timestamp of last job processing
        type: string
        format: date-time
      pending_jobs:
        description: Number of pending jobs in this queue
        type: integer
        example: 23
      processed_jobs:
        description: Total number of jobs processed by this queue
        type: integer
        format: int64
        example: 1847
      queue_name:
        description: Name of the queue
        type: string
        example: chain-bridge.transfer.56.1
      success_rate_percentage:
        description: Success rate as percentage
        type: number
        format: float
        example: 99.84
      token_id:
        description: Token ID for this queue
        type: integer
        example: 1
  queueStatsResponse:
    type: array
    items:
      $ref: '#/definitions/queueStats'
  tokenConfigUpdateResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Token configuration updated successfully
  tokenCreateResponse:
    type: object
    required:
    - message
    - token_id
    properties:
      message:
        type: string
        example: Token created successfully
      token_id:
        type: integer
        example: 123
  tokenDeleteResponse:
    type: object
    required:
    - message
    properties:
      message:
        type: string
        example: Token deleted successfully
  tokenResponse:
    type: object
    properties:
      batch_operations:
        description: Supported batch operations configuration
        type: object
        additionalProperties: true
        example:
          batchBurn: true
          batchMint: true
          batchTransfer: true
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      contract_address:
        description: Token contract address (null for native tokens)
        type: string
        example: 0x1234567890123456789012345678901234567890
      created_at:
        description: Token creation timestamp
        type: string
        format: date-time
        example: "2024-12-21T00:00:00Z"
      decimals:
        description: Token decimals
        type: integer
        example: 18
      id:
        description: Token ID
        type: integer
        example: 1
      is_enabled:
        description: Whether token is enabled
        type: boolean
        example: true
      name:
        description: Token name
        type: string
        example: CPOP Token
      supports_batch_operations:
        description: Whether token supports batch operations
        type: boolean
        example: true
      symbol:
        description: Token symbol
        type: string
        example: CPOP
      token_type:
        description: Token type
        type: string
        enum:
        - native
        - erc20
        example: erc20
  tokensResponse:
    type: array
    items:
      $ref: '#/definitions/tokenResponse'
  transactionHistoryResponse:
    type: object
    required:
    - user_id
    - total_count
    - page
    - limit
    - transactions
    properties:
      limit:
        description: Page size
        type: integer
        example: 20
      page:
        description: Current page
        type: integer
        example: 1
      total_count:
        description: Total transaction count
        type: integer
        example: 156
      transactions:
        type: array
        items:
          $ref: '#/definitions/transactionInfo'
      user_id:
        description: User ID
        type: string
        example: user_123
  transactionInfo:
    type: object
    required:
    - tx_id
    - chain_id
    - token_symbol
    - tx_type
    - business_type
    - amount
    - status
    properties:
      amount:
        description: Transaction amount (positive/negative)
        type: string
        example: "-50.000000000000000000"
      amount_usd:
        description: Amount in USD
        type: string
        example: "-2.50"
      batch_id:
        description: Batch ID if batched
        type: string
        example: batch_transfer_001
      block_number:
        description: Block number
        type: integer
        format: int64
      business_type:
        description: Business type
        type: string
        enum:
        - transfer
        - reward
        - gas_fee
        - consumption
        - refund
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      chain_name:
        description: Chain name
        type: string
        example: BSC
      confirmed_at:
        description: Confirmation timestamp
        type: string
        format: date-time
      created_at:
        description: Creation timestamp
        type: string
        format: date-time
      gas_saved_percentage:
        description: Gas saved percentage
        type: number
        format: float
        example: 76.8
      is_batch_operation:
        description: Whether part of batch operation
        type: boolean
        default: false
      operation_id:
        description: Business operation ID
        type: string
        example: op_transfer_001
      reason_detail:
        description: Detailed reason
        type: string
        example: 朋友转账
      reason_type:
        description: Reason type
        type: string
        example: user_transfer
      related_user_id:
        description: Related user ID (for transfers)
        type: string
        example: user_456
      status:
        description: Transaction status
        type: string
        default: pending
        enum:
        - pending
        - batching
        - submitted
        - confirmed
        - failed
      token_symbol:
        description: Token symbol
        type: string
        example: CPOP
      transfer_direction:
        description: Transfer direction (only for transfers)
        type: string
        enum:
        - outgoing
        - incoming
      tx_hash:
        description: Blockchain transaction hash
        type: string
        example: 0xabc123...
      tx_id:
        description: Transaction ID
        type: string
        example: tx_001
      tx_type:
        description: Transaction type
        type: string
        enum:
        - mint
        - burn
        - transfer
  transferCompleteResponse:
    type: object
    required:
    - data
    - batch_info
    properties:
      batch_info:
        $ref: '#/definitions/batchInfo'
      data:
        $ref: '#/definitions/transferResponse'
  transferRecord:
    type: object
    properties:
      amount:
        description: Amount with sign
        type: string
        example: "-50.000000000000000000"
      transfer_direction:
        description: Transfer direction
        type: string
        enum:
        - outgoing
        - incoming
      tx_id:
        description: Transaction ID
        type: string
        example: tx_outgoing_001
      user_id:
        description: User ID
        type: string
        example: user_123
  transferRequest:
    type: object
    required:
    - operation_id
    - from_user_id
    - to_user_id
    - chain_id
    - token_symbol
    - amount
    properties:
      amount:
        description: Transfer amount
        type: string
        example: "50.000000000000000000"
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      from_user_id:
        description: Sender user ID
        type: string
        example: user_123
      memo:
        description: Transfer memo
        type: string
        example: 朋友转账
      operation_id:
        description: Operation ID for idempotency
        type: string
        example: op_transfer_001
      to_user_id:
        description: Recipient user ID
        type: string
        example: user_456
      token_symbol:
        description: Token symbol
        type: string
        example: CPOP
  transferResponse:
    type: object
    required:
    - operation_id
    - from_user_id
    - to_user_id
    - chain_id
    - token_symbol
    - amount
    - status
    - transfer_records
    properties:
      amount:
        description: Transfer amount
        type: string
        example: "50.000000000000000000"
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      from_user_id:
        description: Sender user ID
        type: string
        example: user_123
      operation_id:
        description: Operation ID
        type: string
        example: op_transfer_001
      status:
        description: Transfer status
        type: string
        example: recorded
      to_user_id:
        description: Recipient user ID
        type: string
        example: user_456
      token_symbol:
        description: Token symbol
        type: string
        example: CPOP
      transfer_records:
        type: array
        items:
          $ref: '#/definitions/transferRecord'
  updateChainRequest:
    type: object
    properties:
      account_manager_address:
        description: Account manager contract address
        type: string
        example: 0xabcdefabcdefabcdefabcdefabcdefabcdefabcd
      cpop_token_address:
        description: CPOP token contract address
        type: string
        example: 0x1234567890123456789012345678901234567890
      entry_point_address:
        description: EntryPoint contract address
        type: string
        example: 0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789
      explorer_url:
        description: Block explorer URL
        type: string
        example: https://updated-explorer.example.com
      is_enabled:
        description: Whether chain is enabled
        type: boolean
        example: false
      master_aggregator_address:
        description: Master aggregator contract address
        type: string
        example: 0x0987654321098765432109876543210987654321
      max_batch_size:
        description: Maximum batch size
        type: integer
        example: 50
      min_batch_size:
        description: Minimum batch size
        type: integer
        example: 15
      name:
        description: Chain name
        type: string
        example: Updated Chain Name
      optimal_batch_size:
        description: Optimal batch size for processing
        type: integer
        example: 30
      rpc_url:
        description: RPC endpoint URL
        type: string
        example: https://updated-rpc.example.com
      short_name:
        description: Chain short name
        type: string
        example: updated
  updateTokenRequest:
    type: object
    properties:
      batch_operations:
        description: Supported batch operations configuration
        type: object
        additionalProperties: true
        example:
          batchBurn: false
          batchMint: true
          batchTransfer: true
      is_enabled:
        description: Whether token is enabled
        type: boolean
        example: false
      name:
        description: Token name
        type: string
        example: Updated Token Name
      supports_batch_operations:
        description: Whether token supports batch operations
        type: boolean
        example: true
  userAssetsCompleteResponse:
    type: object
    required:
    - data
    - batch_info
    properties:
      batch_info:
        $ref: '#/definitions/batchInfo'
      data:
        $ref: '#/definitions/assetsResponse'
  userOptimizationRecommendationResponse:
    type: object
    required:
    - chain_id
    - token_id
    - current_batch_size
    - recommended_size
    - expected_improvement
    - confidence_level
    - reasoning
    - average_processing_time_ms
    - gas_saved_percentage
    - efficiency_rating
    - sample_size
    properties:
      average_processing_time_ms:
        description: Average processing time in milliseconds
        type: integer
        example: 2150
      chain_id:
        description: Chain ID for this recommendation
        type: integer
        format: int64
        example: 56
      confidence_level:
        description: Confidence level of the recommendation (0-100)
        type: number
        format: float
        example: 87.3
      current_batch_size:
        description: Current batch size being used
        type: integer
        example: 25
      efficiency_rating:
        description: Overall efficiency rating (0-100)
        type: number
        format: float
        example: 82.6
      expected_improvement:
        description: Expected improvement percentage
        type: number
        format: float
        example: 12.5
      gas_saved_percentage:
        description: Gas saved percentage compared to individual transactions
        type: number
        format: float
        example: 78.2
      reasoning:
        description: Human-readable explanation of the recommendation
        type: string
        example: Increasing batch size to 30 will improve efficiency by 12.5% based
          on recent performance data
      recommended_size:
        description: Recommended optimal batch size
        type: integer
        example: 30
      sample_size:
        description: Number of samples used for this analysis
        type: integer
        example: 156
      token_id:
        description: Token ID for this recommendation
        type: integer
        example: 1
  userTransactionHistoryResponse:
    type: object
    required:
    - user_id
    - total_count
    - page
    - limit
    - transactions
    - total_incoming
    - total_outgoing
    - net_change
    - gas_saved_total
    properties:
      gas_saved_total:
        description: Total gas saved
        type: string
        example: 45.80 USD
      limit:
        description: Page size
        type: integer
        example: 20
      net_change:
        description: Net change amount
        type: string
        example: "300.000000000000000000"
      page:
        description: Current page
        type: integer
        example: 1
      total_count:
        description: Total transaction count
        type: integer
        example: 156
      total_incoming:
        description: Total incoming amount
        type: string
        example: "2150.000000000000000000"
      total_outgoing:
        description: Total outgoing amount
        type: string
        example: "1850.000000000000000000"
      transactions:
        type: array
        items:
          $ref: '#/definitions/transactionInfo'
      user_id:
        description: User ID
        type: string
        example: user_123
  userTransferResponse:
    type: object
    required:
    - operation_id
    - from_user_id
    - to_user_id
    - chain_id
    - token_symbol
    - amount
    - status
    - transfer_records
    - will_be_batched
    - batch_type
    - current_batch_size
    - optimal_batch_size
    - expected_efficiency
    properties:
      amount:
        description: Transfer amount
        type: string
        example: "50.000000000000000000"
      batch_type:
        description: Batch operation type
        type: string
        example: batchTransferFrom
      chain_id:
        description: Chain ID
        type: integer
        format: int64
        example: 56
      current_batch_size:
        description: Current batch size
        type: integer
        example: 12
      expected_efficiency:
        description: Expected efficiency
        type: string
        example: 74-76%
      from_user_id:
        description: Sender user ID
        type: string
        example: user_123
      operation_id:
        description: Operation ID
        type: string
        example: op_transfer_001
      optimal_batch_size:
        description: Optimal batch size
        type: integer
        example: 25
      status:
        description: Transfer status
        type: string
        example: recorded
      to_user_id:
        description: Recipient user ID
        type: string
        example: user_456
      token_symbol:
        description: Token symbol
        type: string
        example: CPOP
      transfer_records:
        type: array
        items:
          $ref: '#/definitions/transferRecord'
      will_be_batched:
        description: Whether will be batched
        type: boolean
        example: true
responses:
  AuthForbiddenResponse:
    description: PublicHTTPError, type `USER_DEACTIVATED`/`NOT_LOCAL_USER`
    schema:
      $ref: '#/definitions/publicHttpError'
  AuthUnauthorizedResponse:
    description: PublicHTTPError
    schema:
      $ref: '#/definitions/publicHttpError'
  InvalidPasswordResponse:
    description: PublicHTTPValidationError, type `INVALID_PASSWORD`
    schema:
      $ref: '#/definitions/publicHttpValidationError'
  ValidationError:
    description: PublicHTTPValidationError
    schema:
      $ref: '#/definitions/publicHttpValidationError'
securityDefinitions:
  Bearer:
    description: |-
      Access token for application access, **must** include "Bearer " prefix.
      Example: `Bearer b4a94a42-3ea2-4af3-9699-8bcbfee6e6d2`
    type: apiKey
    name: Authorization
    in: header
    x-keyPrefix: 'Bearer '
  Management:
    description: Management secret, used for monitoring and infrastructure related
      calls
    type: apiKey
    name: mgmt-secret
    in: query
